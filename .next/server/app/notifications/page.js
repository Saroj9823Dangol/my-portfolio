(()=>{var e={};e.id=173,e.ids=[173],e.modules={180:(e,t,i)=>{"use strict";i.d(t,{NotificationButton:()=>o});let o=(0,i(6157).registerClientReference)(function(){throw Error("Attempted to call NotificationButton() from the server but NotificationButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sarojdangol/Desktop/SD/sd-portfolio/components/notification/NotificationButton.tsx","NotificationButton")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1113:(e,t,i)=>{Promise.resolve().then(i.bind(i,8771)),Promise.resolve().then(i.bind(i,2036))},2036:(e,t,i)=>{"use strict";i.d(t,{SendNotification:()=>n});var o=i(401),r=i(8228);function n(){let[e,t]=(0,r.useState)(""),[i,n]=(0,r.useState)(!1),s=async()=>{if(e.trim()){n(!0);try{let i=await navigator.serviceWorker.ready,o=await i.pushManager.getSubscription();if(!o){alert("No active subscription found");return}if((await fetch("/api/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:o,message:e})})).ok)alert("Notification sent successfully!"),t("");else throw Error("Failed to send notification")}catch(e){alert("Failed to send notification")}finally{n(!1)}}};return(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter notification message",className:"w-full p-2 border rounded"}),(0,o.jsx)("button",{onClick:s,disabled:i||!e.trim(),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400",children:i?"Sending...":"Send Test Notification"})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4030:(e,t,i)=>{"use strict";i.d(t,{SendNotification:()=>o});let o=(0,i(6157).registerClientReference)(function(){throw Error("Attempted to call SendNotification() from the server but SendNotification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sarojdangol/Desktop/SD/sd-portfolio/components/notification/SendNotification.tsx","SendNotification")},4848:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>l});var o=i(1261),r=i(298),n=i(9524),s=i.n(n),a=i(7491),c={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);i.d(t,c);let l={children:["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,7238)),"/Users/sarojdangol/Desktop/SD/sd-portfolio/app/notifications/page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(i.bind(i,3962)),"/Users/sarojdangol/Desktop/SD/sd-portfolio/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.bind(i,8874)),"/Users/sarojdangol/Desktop/SD/sd-portfolio/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,4329,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,8806,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]}.children,d=["/Users/sarojdangol/Desktop/SD/sd-portfolio/app/notifications/page.tsx"],p={require:i,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7238:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var o=i(7851),r=i(180),n=i(4030);function s(){return(0,o.jsxs)("main",{className:"max-w-md mx-auto p-4 space-y-8",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Push Notifications Demo"}),(0,o.jsxs)("section",{className:"p-4 border rounded space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold",children:"Step 1: Subscribe"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Click the button below to enable push notifications."}),(0,o.jsx)(r.NotificationButton,{})]}),(0,o.jsxs)("section",{className:"p-4 border rounded space-y-4",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold",children:"Step 2: Send Test Notification"}),(0,o.jsx)("p",{className:"text-gray-600",children:"After subscribing, you can send yourself a test notification."}),(0,o.jsx)(n.SendNotification,{})]})]})}},8771:(e,t,i)=>{"use strict";i.d(t,{NotificationButton:()=>a});var o=i(401);async function r(){if("serviceWorker"in navigator)try{return await navigator.serviceWorker.register("/sw.js")}catch(e){}return null}async function n(){if("Notification"in window)try{let e=await Notification.requestPermission();return"granted"===e}catch(e){}return!1}var s=i(8228);function a(){let[e,t]=(0,s.useState)(!1),[i,a]=(0,s.useState)(!1),c=async()=>{a(!0);try{if(!await n()){alert("Please enable notifications in your browser settings");return}let e=await r();if(!e)throw Error("Service worker registration failed");let i=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BB5BVwNTrs9jEEOm2Z7UP0q3XSrG6IK4-eI8R20SZB2Q5MuZviKphMBfNcniEJzKvNBZihrW2GUh8HrDkaLow88"});if((await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:i})})).ok)t(!0);else throw Error("Subscription failed")}catch(e){alert("Failed to subscribe to notifications")}finally{a(!1)}};return(0,o.jsx)("button",{onClick:c,disabled:e||i,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:i?"Processing...":e?"Subscribed!":"Enable Notifications"})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9257:(e,t,i)=>{Promise.resolve().then(i.bind(i,180)),Promise.resolve().then(i.bind(i,4030))},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),o=t.X(0,[587,168,274],()=>i(4848));module.exports=o})();